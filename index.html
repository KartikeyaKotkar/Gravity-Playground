<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gravity Playground</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body>
    <div id="error-display"
        style="position:fixed;top:0;left:0;width:100%;background:rgba(255,0,0,0.8);color:white;padding:10px;z-index:10000;display:none;font-family:monospace;">
    </div>
    <script>
        window.onerror = function (msg, url, line, col, error) {
            const div = document.getElementById('error-display');
            div.style.display = 'block';
            div.innerHTML += `<div>Error: ${msg} <br> at ${url}:${line}:${col}</div>`;
            return false;
        };
    </script>

    <canvas id="simCanvas"></canvas>

    <div id="ui-container">
        <div class="panel control-panel">
            <h1>Gravity Engine</h1>

            <div class="control-group">
                <label>Tool</label>
                <div class="button-row">
                    <button class="tool-btn active" data-tool="spawn" title="Spawn Body">Spawn</button>
                    <button class="tool-btn" data-tool="move" title="Move Body">Move</button>
                    <button class="tool-btn" data-tool="delete" title="Delete Body">Delete</button>
                </div>
            </div>

            <div class="control-group">
                <label>Spawn Type</label>
                <select id="spawnType">
                    <option value="planet">Planet</option>
                    <option value="star">Star</option>
                    <option value="blackhole">Black Hole</option>
                    <option value="whitehole">White Hole</option>
                    <option value="wormhole">Wormhole</option>
                    <option value="antimatter">Anti-Matter</option>
                </select>
            </div>

            <div class="control-group">
                <button id="clearBtn" class="danger-btn">Clear Universe</button>
                <button id="pauseBtn">Pause</button>
            </div>

            <div class="stats">
                <p>Objects: <span id="objCount">0</span></p>
                <p>FPS: <span id="fpsCount">0</span></p>
            </div>
        </div>

        <div class="panel help-panel">
            <p>Left Click: Action</p>
            <p>Right Click: Pan</p>
            <p>Scroll: Zoom</p>
        </div>
    </div>

    <script src="./src/body.js"></script>
    <script src="./src/simulation.js"></script>
    <script src="./src/renderer.js"></script>
    <script src="./src/ui.js"></script>
    <script src="./src/main.js"></script>
</body>

</html>